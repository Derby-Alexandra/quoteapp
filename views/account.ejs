<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Thee Quote App</title>
    <meta name="description" content="user account home page">
    <meta name="author" content="alexandra derby">
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <header>
        <h1>Thee Quote App</h1>
        <nav>
            <ul>
                <li class="link_font"><a href="account">Generate Quotes</a></li> | 
                <li class="link_font"><a href="view">Saved Quotes</a></li> |
                <li class="link_font"><a href="/logout">Logout</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div>
            <p id="quote"><%= quote %><br>
                - <%= author %>
            </p>
            <br>
            <a class="button_link" href="generate2">Generate</a>
            <a class="button_link" onclick="toggle_modal()">Save Quote</a>
            <div id="save_categories">
                <div id="exit" onclick="exit_modal()">X</div>
                <p>Choose the category you wish to save your quote into:</p>
                <br>
                <button onclick="savequote(1)">Funny</button>
                <button onclick="savequote(2)">Inspirational</button>
                <button onclick="savequote(3)">Spiritual</button>
                <button onclick="savequote(4)">Famous</button>
                <button onclick="savequote(5)">Other</button>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 2020 | Alexandra Derby | Canada | <a href="http://www.byui.edu/online">BYU Idaho Online Learning</a></p>
    </footer>
    <script>
    function toggle_modal() {
        document.getElementById('save_categories').style.display = "block";
    }
    function exit_modal() {
        document.getElementById('save_categories').style.display = "none";
    }
    function savequote(categoryid) {
        let quote = document.getElementById('quote').innerText
        const Http = new XMLHttpRequest()
        const url='/savequote'
        Http.open("POST", url)
        Http.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
        Http.send(`categoryid=${categoryid}&quote=${quote}`)
    }
    </script>
</body>
</html>